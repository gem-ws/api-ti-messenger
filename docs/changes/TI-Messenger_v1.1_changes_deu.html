<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>TI-Messenger v1.1 changes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="paragraph">
<p><span class="image"><img src="../../images/gematik_logo.svg" alt="gematik logo" width="70%"></span></p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Inhaltsverzeichnis</div>
<ul class="sectlevel0">
<li><a href="#_ti_messenger_v1_1_changes">TI-Messenger v1.1 changes</a>
<ul class="sectlevel1">
<li><a href="#_zusammenfassung">1. Zusammenfassung</a></li>
<li><a href="#_änderungsvorschläge">2. Änderungsvorschläge</a>
<ul class="sectlevel2">
<li><a href="#_cr_001_korrektur_der_parameter_am_fhir_directory_tim_authenticate_endpoint">2.1. CR_001 - Korrektur der Parameter am FHIR-Directory /tim-authenticate Endpoint</a></li>
<li><a href="#_cr_002_verhinderung_der_unauthorisierten_bestellung_eines_messenger_services">2.2. CR_002 - Verhinderung der unauthorisierten Bestellung eines Messenger-Services</a></li>
<li><a href="#_cr_003_signatur_der_föderationsliste">2.3. CR_003 - Signatur der Föderationsliste</a></li>
<li><a href="#_cr_004_nachweis_des_besitzes_einer_smc_b_beim_bestellprozess_eines_messenger_services">2.4. CR_004 - Nachweis des Besitzes einer SMC-B beim Bestellprozess eines Messenger-Services</a></li>
<li><a href="#_cr_005_authentisierung_am_fhir_directory_owner_authenticate_endpoint">2.5. CR_005 - Authentisierung am FHIR-Directory /owner-authenticate Endpoint</a></li>
<li><a href="#_cr_006_prüfung_auf_föderationszugehörigkeit">2.6. CR_006 - Prüfung auf Föderationszugehörigkeit</a></li>
<li><a href="#_cr_007_änderung_der_prüfverfahren">2.7. CR_007 - Änderung der Prüfverfahren</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="_ti_messenger_v1_1_changes" class="sect0">TI-Messenger v1.1 changes</h1>
<div class="sect1">
<h2 id="_zusammenfassung">1. Zusammenfassung</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Die folgende Seite listet notwendige Änderungsvorschläge (CR) auf, die noch im Rahmen des TI-Messenger-Dienstes in der Version 1.1 gültig werden sollen. Bei den hier genannten Änderungen handelt es sich um Erkenntnisse aus der Entwicklung der Referenzimplementierung des TI-Messengers sowie aus den Vorschlägen der Industriegesprächen. Ziel ist es, alle Änderungsvorschläge transparent und allen interessierten Herstellern zur gemeinsamen Abstimmung zur Verfügung zu stellen.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Die hier genannten Änderungen sind als Abstimmungsgrundlage zu verstehen.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_änderungsvorschläge">2. Änderungsvorschläge</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Im Folgenden werden alle Änderungsvorschläge der gematik beschrieben, die für den TI-Messenger Dienst in der Version 1.1 erforderlich sind.</p>
</div>
<div class="sect2">
<h3 id="_cr_001_korrektur_der_parameter_am_fhir_directory_tim_authenticate_endpoint">2.1. CR_001 - Korrektur der Parameter am FHIR-Directory /tim-authenticate Endpoint</h3>
<div class="paragraph">
<p>Der Request am <strong>/tim-authenticate</strong> Endpoint muss den Namen des Matrix Homeservers enthalten. In der bisherigen FHIR-Directory Implementierung wurde der Homeserver-Name als Teil der URL im Parameter <code>mxid</code> übergeben.</p>
</div>
<div class="paragraph">
<p><strong>Beispiel alt</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>GET https://fhir-directory-test.vzd.ti-dienste.de/tim-authenticate?mxId=matrix.dev.service-ti.de</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Homeserver-Name wird nun im Header-Element <code>X-Matrix-Server-Name</code> des Requests übergeben.</p>
</div>
<div class="paragraph">
<p><strong>Beispiel neu</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">GET https://fhir-directory-test.vzd.ti-dienste.de/tim-authenticate

HEADER
{
 "User-Agent"=&gt;"Faraday v2.6.0",
 "Content-Type"=&gt;"application/json",
 "X-Matrix-OpenID-Token"=&gt;"matrix-openid-token",
 "X-Matrix-Server-Name"=&gt;"matrix.dev.service-ti.de"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cr_002_verhinderung_der_unauthorisierten_bestellung_eines_messenger_services">2.2. CR_002 - Verhinderung der unauthorisierten Bestellung eines Messenger-Services</h3>
<div class="paragraph">
<p>Es ist technisch abgesichert, dass ein Messenger-Service nur bestellt werden kann, wenn der Besitz einer SMC-B nachgewiesen wurde. In einer Organisation des Gesundheitswesens kann es jedoch sein, dass Mitarbeiter unauthorisiert einen Messenger-Service bestellen. Es fehlt eine ergänzende Regelung, die eine unauthorisierte Bestellung eines Messenger-Service verhindert.</p>
</div>
<div class="paragraph">
<p><strong>Lösungsidee:</strong> Ein Messenger-Service kann, wie bisher spezifiziert, von einer Organisation des Gesundheitswesens bestellt werden. Der Vertrag über den bestellten Messenger-Service wird per Post an eine verifizierte Adresse der Organisation (z. B. durch Abfrage des FHIR-Directories ermittelte Anschrift der Organisation) gesendet. Erst nach Eingang des unterzeichneten Vertrages beim TI-Messenger-Anbieter wird der Messenger-Service aktiviert.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cr_003_signatur_der_föderationsliste">2.3. CR_003 - Signatur der Föderationsliste</h3>
<div class="paragraph">
<p>In der aktuellen Spezifikation ist eine Signatur der Föderationsliste festgelegt. Die Signatur war bisher noch nicht in der OpenAPI Definition der Schnittstelle <code>I_VZD_TIM_Provider_Services</code> berücksichtigt. Dies wurde in der <a href="https://raw.githubusercontent.com/gematik/api-vzd/develop/src/openapi/I_VZD_TIM_Provider_Services.yaml">I_VZD_TIM_Provider_Services</a> in der Version 1.2.0 angepasst. Durch diese Änderung wurde es erforderlich die Struktur der Föderationsliste in einem JSON Schema festzulegen, da die Struktur nicht mehr in der OpenAPI Definition sichtbar ist (siehe hierzu bitte: <a href="https://github.com/gematik/api-vzd/blob/develop/src/schema/FederationList.json">JSON-Schema der Föderationsliste</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cr_004_nachweis_des_besitzes_einer_smc_b_beim_bestellprozess_eines_messenger_services">2.4. CR_004 - Nachweis des Besitzes einer SMC-B beim Bestellprozess eines Messenger-Services</h3>
<div class="paragraph">
<p>Es wird vorgeschlagen, dass anstatt einer OIDC-Authentifizierung zum Nachweis des Besitzes einer SMC-B auch ein KIM-basiertes Verfahren genutzt werden kann.</p>
</div>
<div class="paragraph">
<p><strong>Möglicher Ablauf:</strong><br>
Im Bestellvorgang wird der Akteur (Org-Admin) darauf hingewiesen, dass ein Messenger-Service nur von einer verifizierten Organisation des Gesundheitswesens bestellt werden kann und daher eine Authentifizierung notwendig ist. Der Org-Admin wird aufgefordert seine KIM Mail-Adresse in eine Eingabemaske einzutragen. Der Registrierungs-Dienst fragt im VZD die <code>telematikID</code> sowie die <code>professionOID</code> zur angegebenen KIM-Adresse ab und prüft die <code>professionOID</code> (muss zu einer Organisation des Gesundheitswesens gehören). Der Registrierungs-Dienst sendet dem Akteur eine KIM-Nachricht mit einer URL an die angegebene KIM-Adresse und fordert den Org-Admin auf, die KIM-Nachricht zu öffnen und die darin befindliche URL zu öffnen. Durch das Öffnen des Links wird der Akteur wieder in den Bestellprozess zurückgeführt und die Authentisierung ist abgeschlossen (weil durch das Öffnen der KIM-Nachricht nachgewiesen ist, dass die E-Mail erfolgreich entschlüsselt werden konnte, was nur mit dem privaten Schlüssel der SMC-B möglich ist).</p>
</div>
<div class="paragraph">
<p><strong>Rahmenbedingungen:</strong><br>
TI-Messenger Anbieter benötigen für das oben vorgestellte Verfahren eine SMC-B Org sowie einen Konnektor und ein eHealth Kartenterminal. Die gematik wird die Voraussetzungen schaffen, dass TI-Messenger Anbieter auch eine SMC-B Org erhalten können.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cr_005_authentisierung_am_fhir_directory_owner_authenticate_endpoint">2.5. CR_005 - Authentisierung am FHIR-Directory /owner-authenticate Endpoint</h3>
<div class="paragraph">
<p>Bei der Authentisierung von Organisationen vertreten durch den Org-Admin am <strong>/owner-authenticate</strong> Endpoint ist bisher folgernder Ablauf vorgesehen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Der Org-Admin-Client führt nach dem <strong>login</strong> des Org-Admins am TI-Messenger Registrierungsdienst ein <strong>/request_token</strong> aus. Als Ergebnis erhält der Org-Admin-Client ein id_token.</p>
</li>
<li>
<p>Mit dem id_token im Authentication Header ruft der Org-Admin-Client den <strong>/owner-authenticate</strong> Endpoint am FHIR-Directory auf.</p>
</li>
<li>
<p>Nach Prüfung des id_token durch das FHIR-Directory wird der Org-Admin-Client zum Authorization Endpoint des IDP umgeleitet und damit eine OIDC Authentisierung eingeleitet.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Optimierung</strong><br>
Da ein Org-Admin-Account am Registrierungs-Dienst nur angelegt werden kann, wenn eine erfolgreiche Authentisierung einer Organisation mit Hilfe einer SMC-B durchgeführt wurde, ist eine erneute SMC-B Authentifizierung am FHIR-Directory nicht mehr erforderlich. Dies trifft zu, wenn das FHIR-Directory den Registrierungs-Diensten aller TI-Messenger-Anbieter vertraut und wenn die erforderlichen Daten (<code>telematikID</code> und <code>professionOID</code>) im <strong>id_token</strong> des Registrierungs-Denstes enthalten sind.</p>
</div>
<div class="paragraph">
<p>Das Vertrauen zu den Registrierungsdiensten der TI-Messenger Anbieter wird hergestellt, wenn die TI-Messenger Anbieter Credentials beim FHIR-Directory für die Schnittstelle I_VZD_TIM_Provider_Services beantragen. Dabei übergibt der TI-Messenger Anbieter den hash des Signatur-Zertifikats, das für die Signatur des id_tokens verwendet wird an das FHIR-Directory.</p>
</div>
<div class="paragraph">
<p>Der Org-Admin kann sich nach erfolgreicher Authentisierung
Das vom Registrierungsdienst ausgestellte id_token wird durch das FHIR-Directory geprüft (Algorithmus, Signatur, Signaturzertifikat (Zertifikatstyp, technische Rolle, hash des Zertifikats, OCSP)). Das zur Signatur des id_token verwendete Zertifikat muss aus der Komponenten-PKI der TI stammen (Zertifikatstyp C.FD.SIG, technische Rolle oid_tim). Das Zertifikat kann vom TI-Messenger Anbieter über einen Service der TI-Komponenten-PKI erzeugt werden. Der TI-Messenger Anbieter muss auch einen Download-Punkt für das Zertifikat bereitstellen, damit das FHIR-Directory für die Signaturprüfung des id_tokens, Zugriff auf das Zertifikat erhält.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/diagrams/architecture/SequenceDiagram.FHIR-Directory.owner.svg" alt="SequenceDiagram.FHIR-Directory.owner">
</div>
<div class="title">Figure 1. Vereinfachter Ablauf zur Änderung der Einträge im FHIR-Directory</div>
</div>
<div class="paragraph">
<p>Im Sequenzdiagramm ist dargestellt, dass für die Authentisierung des Org-Admin am Auth-Service nur noch das <strong>id_token</strong> vom Registrierungs-Dienst benötigt wird.</p>
</div>
<div class="paragraph">
<p>Für Nutzer eines HBAs ändert sich nichts. Das heißt der <code>/owner-authenticate</code> Endpoint des Auth-Service unterstützt den OIDC Authorization Code Flow. Daher ist es möglich am Registrierungs-Dienst auch den Authentication Endpoint und den Token Endpoint eines IDP zu implementieren, um für Org-Admins den OIDC Authorization Code Flow verwenden zu können.</p>
</div>
<div class="paragraph">
<p><strong>Aufbau des id_tokens</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">HEADER
{
  "alg": "RS256",
  "typ": "JWT"
  "x5u": "https://example.de/&lt;certhash&gt;"
}
PAYLOAD
{
  "sub": "1234567890",
  "iss": "&lt;url des Registrierungs-Dienst-Endpunkts, über den das Token ausgestellt wurde&gt;",
  "aud": "https://vzd-fhir-directory.vzd.ti-dienste.de/owner-authenticate",
  "professionOID": "1.2.276.0.76.4.53",
  "idNummer": "5-234567890",
  "iat": "1516239022",
  "exp": "1516239022"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die telematikID ist im Attribut "idNummer" angegeben.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cr_006_prüfung_auf_föderationszugehörigkeit">2.6. CR_006 - Prüfung auf Föderationszugehörigkeit</h3>
<div class="paragraph">
<p>Zur Prüfung der Föderationszugehörigkeit ist es ausreichend, wenn am Messenger-Proxy im Authorization-Header die "origin" bei eingehender und "destination" bei ausgehender Föderation geprüft werden. Siehe auch <a href="https://spec.matrix.org/latest/server-server-api/#authentication">Matrix Specification
Server-Server API Authentication</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cr_007_änderung_der_prüfverfahren">2.7. CR_007 - Änderung der Prüfverfahren</h3>
<div class="paragraph">
<p>Im Produkttypsteckbrief des TI-Messenger-Clients sind viele Anforderungen dem Prüfverfahren Produktgutachten zugeordnet. Ein Produktgutachten ist jedoch sehr aufwändig und damit teuer. Die Anforderungen wurden durch die gematik neu bewertet und in den meisten Fällen einem anderen Prüfverfahren zugeordnet. Dadurch ist es gelungen, dass kein Produktgutachten durch die TI-Messenger Hersteller in Auftrag gegeben werden muss.</p>
</div>
<div class="paragraph">
<p>Die Änderungen an den Anforderungen sind hier zusammengefasst.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. <strong>Neuzuordnung des Prüfverfahren</strong></caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Anforderung</strong></th>
<th class="tableblock halign-left valign-top"><strong>Dokument</strong></th>
<th class="tableblock halign-left valign-top"><strong>bisheriges Prüfverfahren</strong></th>
<th class="tableblock halign-left valign-top"><strong>Änderung</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_17124 TLS-Verbindungen (ECC-Migration)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_18464 TLS-Verbindungen, nicht Version 1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_18467 TLS-Verbindungen, Version 1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_21275-01 TLS-Verbindungen, zulässige Hashfunktionen bei Signaturen im TLS-Handshake</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_4359 X.509-Identitäten für die Durchführung einer TLS-Authentifizierung</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_4367 Zufallszahlengenerator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_4368 Schlüsselerzeugung</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_4387 TLS-Verbindungen, nicht Version 1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_5035 Nichtverwendung des SSL-Protokolls</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_5322 Weitere Vorgaben für TLS-Verbindungen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_4384-01 TLS-Verbindungen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ersetzt die alte Version von GS-A_4384. Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_4385 TLS-Verbindungen, Version 1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_5339 TLS-Verbindungen, erweiterte Webbrowser-Interoperabilität</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Anforderung <strong>entfällt</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GS-A_5526 TLS-Renegotiation-Indication-Extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_Krypt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich evtl. mit der PKI Test-Suite automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22718 Mandantenfähigkeit von TI-Messenger-Clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Anforderung <strong>entfällt</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22723 Versand von Dateien mittels Matrix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Die Anforderung wird in zwei Anforderungen aufgeteilt (AV-Scanner, ausführbarer Code als eigene Afo).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22724 Abschottung der Inhalte im TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22793 Ende-zu-Ende Verschlüsselung</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist. Der Test der Anforderung lässt sich mit der Referenzimplementierung automatisieren.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22795 Einbringung und Speicherung von Schlüsseln und Token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22798 Privacy by Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Anforderung <strong>entfällt</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22799 Verwendung von OWASP Mobile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>. Inhaltlich wird die Anforderung geprüft, da einige Zuordnungen zu BSI Vorgaben nicht korrekt zu sein scheinen.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22800 Sicherheitsrisiken von Software Bibliotheken minimieren</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Herstellererklärung</strong>. Es muss durch den Hersteller dokumentiert werden, wie und wo die Umsetzung erfolgt ist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22937 Einsatz nur von auditierter Verschlüsselung</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22955 Anforderungen-Gutachten aus der Konferenz der unabhängigen Datenschutzaufsichtsbehörden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Anforderung <strong>entfällt</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_22964 Zugriffsschutz auf Administrationsfunktionen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Die Anforderung <strong>entfällt</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_23114 App-Sperre TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_23130 Nutzung von Daten durch Drittsysteme</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A_23115 Prüfung Device Integrität</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gemSpec_TI-Messenger-Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produktgutachten</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Das Prüfverfahren wird geändert in <strong>Sicherheitsgutachten</strong>. Der zweite Satz der Anforderung wird gestrichen und als Hinweis aufgenommen.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-12-15 12:59:56 UTC
</div>
</div>
</body>
</html>